diff --git a/src/cpp/utils/Host.cpp b/src/cpp/utils/Host.cpp
index 4e7582b1..b38645cc 100644
--- a/src/cpp/utils/Host.cpp
+++ b/src/cpp/utils/Host.cpp
@@ -46,6 +46,9 @@ fastcdr::string_255 Host::compute_machine_id()
     }
     return "";
     #elif defined(__APPLE__)
+    #if (MAC_OS_X_VERSION_MAX_ALLOWED < 120000)
+    #define kIOMainPortDefault kIOMasterPortDefault
+    #endif
     io_registry_entry_t ioRegistryRoot = IORegistryEntryFromPath(kIOMainPortDefault, "IOService:/");
     if (!ioRegistryRoot)
     {
